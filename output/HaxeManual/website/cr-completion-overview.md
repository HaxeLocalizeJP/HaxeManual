## 8.3.1 概要

Haxeの豊富な[型システム](type-system.md)は、IDEやエディタが正確な補完情報を提供することを難しくしています。[型推論](type-system-type-inference.md)や[マクロ](macro.md)のせいで、必要な挙動を再現するのに相当な量の作業が必要です。これがHaxeのコンパイラが、サードパーティーのソフトウェアが使うためのビルトインの補完モードを備えている理由です。

すべての補完は`--display file@position[@mode]`のコンパイラ引数を使うことで開始されます。この引数は以下を要求します。

* file: 補完のためチェックを行うファイルです。これは.hxファイルの絶対パスまたは相対パスです。クラスパスやライブラリではありません。
* position: 補完のためのチェックを行う、与えられたファイルのバイト位置です（文字数での位置ではありません）。
* mode: 使用する補完モードです（後述）。

補完モードの詳細については以下の通りです。

* [フィールドアクセス](cr-completion-field-access.md): その型のアクセス可能なフィールドのリストを提供します。
* [関数の引数](cr-completion-call-argument.md): 呼び出そうとしている関数の型を取得します。
* [型のパス](cr-completion-type-path.md): 子パッケージとサブタイプ、静的フィールドをリストアップします。
* [使用状況](cr-completion-usage.md): コンパイルされるファイルのすべて中から指定された型またはフィールド、変数の出現位置をリストアップします。（`"usage"`モード）
* [定義位置](cr-completion-position.md): 指定された型またはフィールド、変数の定義位置を取得します。（`"position"`モード）
* [トップレベル](cr-completion-top-level.md): 指定した位置で使用可能なすべての識別子をリストアップします。（`"toplevel"`モード）

Haxeのコンパイラは非常に速いので多くの場合では通常のコンパイラの呼び出しを使っても問題がありませんが、より大きなHaxeプロジェクトのために[サーバーモード](cr-completion-server.md)を用意してあります。これにより、ファイルに実際に変更があった場合や依存関係の更新がされたときだけ再コンパイルがされます。

##### インターフェースについての注意事項

* ファイルの目的の位置にパイプライン`|`の文字を置くことで、`position`引数を0に設定することができます。これは、バイト数のカウント無しでIDEが何をすべきなのかをテストしたり実演したりするのに、便利です。この章のサンプルはこの機能を使っていきます。この機能は`|`が不正な構文になる位置に置かれている場合のみ動作します。例えば、ドットの直後（`.|`）や小かっこの直後（`(|`）です。
* 出力はHTMLエスケープされます。つまり`&`、`<`、`>`はそれぞれ`&amp;`、`&lt;`、`&gt;`に変換されます。
* ドキュメントの出力は、ソースコード内のものと同じように改行とタブ文字を含みます。
* 補完モードの実行ではコンパイラはなるべくエラーを出力せずにエラーからの復帰を試みます。補完中に致命的なエラーが発生した場合、Haxeのコンパイラは補完結果の代わりにエラーメッセージを出力します。XMLでは無いあらゆる出力は致命的なエラーメッセージであると判断できます。

---

Previous section: [コンパイラサービス](cr-completion.md)

Next section: [フィールドアクセス補完](cr-completion-field-access.md)